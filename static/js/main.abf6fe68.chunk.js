(this.webpackJsonptweetsaver=this.webpackJsonptweetsaver||[]).push([[0],{17:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(9),s=a.n(r),i=(a(16),a(17),a(5)),l=a(10),o=a(11),u=a(4),d=a.n(u),h=a(8),j=a(2),v=(a(19),a(23)),b=a(0);var f=function(e){var t,a=e.tweet,n=e.index,r=a.id,s=a.user,i=s.name,l=s.screen_name,o=s.profile_image_url,u=a.text,d=a.created_at;return Object(b.jsxs)("li",{className:"result row ".concat(function(e){return e%2===0?"even":"odd"}(n)),draggable:"true",onDragStart:function(e){e.dataTransfer.setData("tweet",JSON.stringify(a))},children:[Object(b.jsx)("div",{className:"avatar-container col-2",children:Object(b.jsx)("img",{src:o,alt:""})}),Object(b.jsxs)("div",{className:"details col-8 row",children:[Object(b.jsxs)("h5",{className:"col-12",children:[i," ",Object(b.jsxs)("span",{className:"handle",children:["@",l]})]}),Object(b.jsx)("p",{className:"tweet col-12",children:function(e){var t=e.matchAll(/(@\w+)/gi),a=[];!function e(t){var n=t();n.value&&a.push({item:n.value[0],index:n.value.index}),n.done||e(t)}((function(){return t.next()}));var n=a.length-1,r=e.length-1,s=0,i=[];return a.forEach((function(t,a){var l=t.item,o=t.index,u=l.length,d="";if(o>0){d=e.substring(s,o);var h=c.a.createElement("span",{key:"before-".concat(o,"-").concat(a)},d),j=c.a.createElement("span",{key:"culprit-".concat(o,"-").concat(a),className:"culprit"},l);i.push(h),i.push(j),s=o+u}else{var v=c.a.createElement("span",{key:"culprit-".concat(o,"-").concat(a),className:"culprit"},l);i.push(v),s=u}if(a===n){var b=e.substring(s,r),f=c.a.createElement("span",{key:"after-".concat(o,"-").concat(a)},b);i.push(f)}})),i.length?i:e}(u)})]}),Object(b.jsx)("div",{className:"date col-2",children:(t=d,Object(v.a)(new Date(t),"d MMM yyyy"))})]},r)};var p=function(e){var t=e.tweets,a=e.allowDrop,n=e.handleSave,c=void 0===n?function(){}:n;return Object(b.jsx)("ul",{className:"results",onDragOver:function(e){return e.preventDefault()},onDrop:function(e){var t=e.dataTransfer.getData("tweet");a&&c(JSON.parse(t))},children:t.map((function(e,t){return Object(b.jsx)(f,{tweet:e,index:t},e.id)}))})};var O=function(){return Object(b.jsx)("div",{className:"result-header col-12"})},m=a.p+"static/media/search.9f032220.svg";var x=function(e){var t=e.handleTextChange,a=e.term,n=e.handleSearch,c=e.placeholder;return Object(b.jsxs)("div",{className:"search-container col-12",children:[Object(b.jsx)("input",{type:"text",placeholder:c,onKeyUp:t,name:"search-tweet-api",id:"",className:" search col-11"}),Object(b.jsx)("button",{className:"search-btn btn col-1",onClick:function(){return""!==a?n(a):null},children:Object(b.jsx)("img",{className:"search-icon",src:m,alt:"search icon",width:"30px",height:"30px"})})]})},g=function(e,t){localStorage.setItem(e,JSON.stringify(t))},w=function(e,t){return JSON.parse(localStorage.getItem(e)||t)},N=a.p+"static/media/loading.0b37f007.svg";var S=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),u=s[0],v=s[1],f=Object(n.useState)([]),m=Object(j.a)(f,2),S=m[0],y=m[1],k=Object(n.useState)({}),D=Object(j.a)(k,2),E=D[0],T=D[1],C=Object(n.useState)(""),J=Object(j.a)(C,2),_=J[0],F=J[1],I=Object(n.useState)(!1),L=Object(j.a)(I,2),M=L[0],A=L[1];function P(e){return B.apply(this,arguments)}function B(){return(B=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(!0),fetch("https://secret-dusk-30723.herokuapp.com/tweet?query=".concat(t)).then((function(e){return e.json()})).then((function(e){A(!1),v(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){Object(h.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("saved","[]");case 2:return t=e.sent,e.next=5,w("savedLog","{}");case 5:a=e.sent,t&&y(t),a&&T(a);case 8:case"end":return e.stop()}}),e)})))()}),[]);var q=function(e){return!E.hasOwnProperty(String(e))};return Object(b.jsxs)("div",{className:"App container",children:[Object(b.jsx)("header",{className:"App-header row",children:Object(b.jsx)("h1",{children:"Tweet Saver"})}),Object(b.jsxs)("div",{className:"tweet-list-container row",children:[Object(b.jsxs)("div",{className:"search-tweets col-12 col-lg-6",children:[Object(b.jsx)(x,{handleTextChange:function(e){var t=e.target.value,n=e.code;c(t),""!==t&&"Enter"===n&&P(a),""===t&&v([])},term:a,handleSearch:P,placeholder:"search twitter tweets"}),Object(b.jsxs)("div",{className:"results-container",children:[Object(b.jsx)(O,{}),M&&Object(b.jsx)("img",{className:"loading-icon",src:N,alt:"loading icon",width:"30px",height:"30px"}),Object(b.jsx)(p,{tweets:u.filter((function(e){var t=e.id;return q(t)})),allowDrop:!1},"search")]})]}),Object(b.jsxs)("div",{className:"saved-tweets col-12 col-lg-6",children:[Object(b.jsx)(x,{handleTextChange:function(e){var t=e.target.value;F(t)},term:a,handleSearch:function(){},placeholder:"search saved tweets"}),Object(b.jsxs)("div",{className:"results-container",children:[Object(b.jsx)(O,{}),Object(b.jsx)(p,{tweets:S.filter((function(e){if(""===_)return!0;var t=e.user,a=t.name,n=t.screen_name,c=e.text;return a.includes(_)||n.includes(_)||c.includes(_)})),allowDrop:!0,handleSave:function(e){if(q(e.id)){var t=[e].concat(Object(o.a)(S)),a=Object(l.a)(Object(i.a)({},String(e.id),e.id),E);g("saved",t),g("savedLog",a),y(t),T(a)}}},"saved")]})]})]})]})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root")),y()}},[[21,1,2]]]);
//# sourceMappingURL=main.abf6fe68.chunk.js.map